import{H as f,I as m}from"./q-FLhtqJIT.js";import{i as d,j as u,y as p,z as y}from"./q-C6cM-dqe.js";import"./q-2LWRYvkK.js";const E=async function(...o){const[i]=d(),n=o.length>0&&o[0]instanceof AbortSignal?o.shift():void 0;{const a=u(),l=o.map(t=>t instanceof SubmitEvent&&t.target instanceof HTMLFormElement?new FormData(t.target):t instanceof Event||t instanceof Node?null:t),s=i.getHash(),e=await fetch(`?${f}=${s}`,{method:"POST",headers:{"Content-Type":"application/qwik-json","X-QRL":s},signal:n,body:await p([i,...l])}),c=e.headers.get("Content-Type");if(e.ok&&c==="text/qwik-json-stream"&&e.body)return async function*(){try{for await(const t of m(e.body,a??document.documentElement,n))yield t}finally{n!=null&&n.aborted||await e.body.cancel()}}();if(c==="application/qwik-json"){const t=await e.text(),r=await y(t,a??document.documentElement);if(e.status===500)throw r;return r}}};export{E as s_wOIPfiQ04l4};
