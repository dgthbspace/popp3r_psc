import{i as d,j as p}from"./q-C6cM-dqe.js";import{t as v,i as S,b as h,r as g,g as y,l as R,c as b}from"./q-FLhtqJIT.js";import{c as w,m as j,r as x}from"./q-zjnpLu9f.js";import"./q-2LWRYvkK.js";const _=async(o,a)=>{const[n,c,s,l]=d(),{type:t="link",forceReload:i=o===void 0,replaceState:u=!1,scroll:f=!0}=typeof a=="object"?a:{forceReload:a},r=s.value.dest,e=o===void 0?r:v(o,l.url);if(!S(e,r)){location.href=e.href;return}if(!i&&h(e,r)){t==="link"&&e.href!==location.href&&history.pushState(null,"",e),g(t,e,new URL(location.href),y()),t==="popstate"&&(window._qCityScrollEnabled=!0);return}return s.value={type:t,dest:e,forceReload:i,replaceState:u,scroll:f},R(e,p()),b(x,j,w,e.pathname),n.value=void 0,l.isNavigating=!0,new Promise(m=>{c.r=m})};export{_ as s_fX0bDjeJa0E};
